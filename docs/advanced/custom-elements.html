
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Custom Elements (Web Components) Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="integrating-with-js-components.html" />
    
    
    <link rel="prev" href="../scaling-up/routing.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    About Vue GWT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../project-setup.html">
            
                <a href="../project-setup.html">
            
                    
                    Project Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../introduction/">
            
                <a href="../introduction/">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../introduction/">
            
                <a href="../introduction/#your-first-component">
            
                    
                    Your First Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../introduction/">
            
                <a href="../introduction/#conditional-and-loop">
            
                    
                    Conditional and Loops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../introduction/">
            
                <a href="../introduction/#handling-user-input">
            
                    
                    Handling User Input
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../introduction/">
            
                <a href="../introduction/#composing-with-components">
            
                    
                    Composing with Components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Essentials</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../essential/the-vue-instance.html">
            
                <a href="../essential/the-vue-instance.html">
            
                    
                    The Vue Instance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../essential/template-syntax.html">
            
                <a href="../essential/template-syntax.html">
            
                    
                    Template Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../essential/computed-and-watchers.html">
            
                <a href="../essential/computed-and-watchers.html">
            
                    
                    Computed Properties and Watchers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../essential/class-and-style.html">
            
                <a href="../essential/class-and-style.html">
            
                    
                    Class and Style Bindings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../essential/conditional.html">
            
                <a href="../essential/conditional.html">
            
                    
                    Conditional Rendering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../essential/list.html">
            
                <a href="../essential/list.html">
            
                    
                    List Rendering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../essential/events.html">
            
                <a href="../essential/events.html">
            
                    
                    Event Handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../essential/forms.html">
            
                <a href="../essential/forms.html">
            
                    
                    Form Input Bindings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../essential/components.html">
            
                <a href="../essential/components.html">
            
                    
                    Composing with Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="../essential/components.html">
            
                <a href="../essential/components.html#using-components">
            
                    
                    Using Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="../essential/components.html">
            
                <a href="../essential/components.html#props">
            
                    
                    Props
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.3" data-path="../essential/components.html">
            
                <a href="../essential/components.html#non-prop-attributes">
            
                    
                    Non-Prop Attributes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.4" data-path="../essential/components.html">
            
                <a href="../essential/components.html#custom-events">
            
                    
                    Custom Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.5" data-path="../essential/components.html">
            
                <a href="../essential/components.html#content-distribution">
            
                    
                    Content Distribution with Slots
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.6" data-path="../essential/components.html">
            
                <a href="../essential/components.html#dynamic-components">
            
                    
                    Dynamic Components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html">
            
                    
                    Dependency Injection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html#why-dependency-injection">
            
                    
                    Why Dependency Injection?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html#dagger-2">
            
                    
                    Setting up Dagger 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.3" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html#injecting-a-component">
            
                    
                    Injecting a Vue GWT Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.4" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html#injecting-children">
            
                    
                    Injecting Component's Children
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.5" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html#globally-registered-components">
            
                    
                    Globally Registered Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.6" data-path="../essential/dependency-injection.html">
            
                <a href="../essential/dependency-injection.html#vue-gwt-router">
            
                    
                    Injecting Routes in Vue GWT Router
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Transitions & Animation</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../transitions/transitions.html">
            
                <a href="../transitions/transitions.html">
            
                    
                    Enter/Leave & List Transitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../transitions/transitioning-state.html">
            
                <a href="../transitions/transitioning-state.html">
            
                    
                    State Transitions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Reusability & Composition</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../composition/extending-components.html">
            
                <a href="../composition/extending-components.html">
            
                    
                    Extending Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../composition/extending-components.html">
            
                <a href="../composition/extending-components.html#extending-java-component">
            
                    
                    Extending Java Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../composition/extending-components.html">
            
                <a href="../composition/extending-components.html#extending-js-component">
            
                    
                    Extending JS Components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../composition/custom-directives.html">
            
                <a href="../composition/custom-directives.html">
            
                    
                    Custom Directives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../composition/render-function.html">
            
                <a href="../composition/render-function.html">
            
                    
                    Render Function
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../composition/render-function.html">
            
                <a href="../composition/render-function.html#basics">
            
                    
                    Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="../composition/render-function.html">
            
                <a href="../composition/render-function.html#v-node-builder-instance">
            
                    
                    The VNodeBuilder Instance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="../composition/render-function.html">
            
                <a href="../composition/render-function.html#replacing-template-feature-in-java">
            
                    
                    Replacing Template Features with Plain Java
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../composition/plugins.html">
            
                <a href="../composition/plugins.html">
            
                    
                    Plugins
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Integration with GWT</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../gwt-integration/client-bundles-and-styles.html">
            
                <a href="../gwt-integration/client-bundles-and-styles.html">
            
                    
                    Client Bundles and Styles
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../gwt-integration/client-bundles-and-styles.html">
            
                <a href="../gwt-integration/client-bundles-and-styles.html#client-bundles">
            
                    
                    Client Bundles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../gwt-integration/client-bundles-and-styles.html">
            
                <a href="../gwt-integration/client-bundles-and-styles.html#styles">
            
                    
                    Styles (CssResource)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../gwt-integration/widgets.html">
            
                <a href="../gwt-integration/widgets.html">
            
                    
                    Vue GWT and Widgets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../js-interop/">
            
                <a href="../js-interop/">
            
                    
                    JsInterop
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="../js-interop/">
            
                <a href="../js-interop/#js-property-map">
            
                    
                    JsPropertyMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.2" data-path="../js-interop/">
            
                <a href="../js-interop/#map">
            
                    
                    map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.3" data-path="../js-interop/">
            
                <a href="../js-interop/#array-object">
            
                    
                    JsArray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.4" data-path="../js-interop/">
            
                <a href="../js-interop/#array">
            
                    
                    array
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Tooling</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../tooling/unit-testing.html">
            
                <a href="../tooling/unit-testing.html">
            
                    
                    Unit Testing
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Scaling Up</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../scaling-up/routing.html">
            
                <a href="../scaling-up/routing.html">
            
                    
                    Routing
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Advanced Topics</li>
        
        
    
        <li class="chapter active" data-level="8.1" data-path="custom-elements.html">
            
                <a href="custom-elements.html">
            
                    
                    Custom Elements (Web Components)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="integrating-with-js-components.html">
            
                <a href="integrating-with-js-components.html">
            
                    
                    Integrating With JS Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.2.1" data-path="integrating-with-js-components.html">
            
                <a href="integrating-with-js-components.html#using-js-components-in-java">
            
                    
                    Using JS Components in Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2.2" data-path="integrating-with-js-components.html">
            
                <a href="integrating-with-js-components.html#using-java-components-in-js">
            
                    
                    Using our Java Components in JS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="unsupported-features.html">
            
                <a href="unsupported-features.html">
            
                    
                    Unsupported Features
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Custom Elements (Web Components)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="custom-elements-support">Custom Elements support</h1>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script>
    (function() {
        if (window.VueGwtExamplesService) {
            window.VueGwtExamplesService.initExamples();
            return;
        }

        var script = document.createElement("script");
        script.src = "https://unpkg.com/vue/dist/vue.js";
        script.onload = function () {
            window.FullJsComponent = Vue.extend({
                        template: "<div>I Come In Peace From the JS World.</div>"
            });
            window.FullJsWithMethodsComponent = Vue.extend({
                template: "<div>My Value: {{ value }}. My Value x2: {{ multiplyBy2(value) }}</div>",
                data: function () {
                    return {
                        value: 10
                    }
                },
                methods: {
                    multiplyBy2: function (value) {
                        return value * 2;
                    }
                }
            });
            window.ParentJsComponent = Vue.extend({
                data: function () {
                    return {
                        parentMessage: "This is a message from the Parent"
                    };
                },
                methods: {
                    parentMultiplyBy2: function (value) {
                        return value * 2;
                    }
                },
                computed: {
                    parentComputed: function () {
                        return "Computed Message | " + this.parentMessage;
                    }
                }
            });

            var basePath = "/";
            if (window.location.hostname === "axellience.github.io")
                basePath = "/vue-gwt/";

            var script = document.createElement("script");
            script.src = basePath + "resources/scripts/VueGwtExamples.nocache.js";
            document.head.appendChild(script);
        }
        document.head.appendChild(script);
    })();
</script>

<h2 id="what-are-custom-elements">What are Custom Elements?</h2>
<p>Custom Elements are a part of the Web Components standard. 
They let you create reusable DOM Elements that can be easily shared between web applications.
In a nutshell, it means being able to code your own custom DOM Elements, that can receive property values and emit events, using the native DOM API.</p>
<p>You can <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements" target="_blank">find more information about the subject on MDN</a>.</p>
<h2 id="how-to-declare-a-custom-element">How to Declare a Custom Element?</h2>
<h3 id="about-vue-and-custom-elements">About Vue and Custom Elements</h3>
<p>Vue Components definitions are already very close to the Custom Element specification.
That shouldn&apos;t come as a surprise as Vue.js was largely inspired by the first draft of the Web Components specification.</p>
<p>For Vue.js, <a href="https://github.com/karol-f/vue-custom-element" target="_blank">a small library exists</a> to declare Vue.js components as Custom Elements.
Vue GWT integrates a <a href="https://github.com/adrienbaron/vue-custom-element" target="_blank">slightly modified version</a> of this library so you can declare your own Custom Elements easily.</p>
<h3 id="the-animalselector-example">The AnimalSelector Example</h3>
<p>Let&apos;s say you have a Vue GWT component called <code>AnimalSelectorComponent</code>.
It let&apos;s a user with a given name select an animal, and emits an event each time an animal is selected. </p>
<pre><code class="lang-java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimalSelectorComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">VueComponent</span> </span>{
    <span class="hljs-meta">@Prop</span>
    <span class="hljs-meta">@JsProperty</span>
    String userName;

    <span class="hljs-meta">@JsMethod</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">selectAnimal</span><span class="hljs-params">(Event event)</span> </span>{
        <span class="hljs-keyword">this</span>.$emit(<span class="hljs-string">&quot;animal-selected&quot;</span>, ((HTMLInputElement) event.target).value);
    }
}
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello {{ userName }}! Please select your animal:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        &#x1F638; <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;animal&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x1F638;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;selectAnimal&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        &#x1F430; <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;animal&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x1F430;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;selectAnimal&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        &#x1F415; <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;animal&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x1F415;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;selectAnimal&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        &#x1F43A; <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;animal&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x1F43A;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;selectAnimal&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>It just takes one line to register your Vue GWT Component as a Custom Element &#x1F389;:</p>
<pre><code class="lang-java"><span class="hljs-comment">// Register our AnimalSelectorComponent under the name animal-selector</span>
Vue.customElement(<span class="hljs-string">&quot;animal-selector&quot;</span>, AnimalSelectorComponent.class);
</code></pre>
<p>Any <code>&lt;animal-selector&gt;&lt;/animal-selector&gt;</code> in your document will then turn into an instance of that Vue Component.</p>
<p class="info-panel">
This will work even if the Element is present in the DOM before your GWT app is loaded.
You Custom Element will also work in Angular, React or Vanilla JS applications.
</p>

<p class="warning-panel">
Due to the specification, the name of your Custom Element <b>MUST</b> contain at least one hyphen (-).
</p>

<p>Here is a live example:</p>
<div class="example-container" data-name="animalSelector">
    <animal-selector user-name="Tom" id="animalSelector"></animal-selector>
</div>


<h2 id="browser-support">Browser Support</h2>
<p>When we said one line was enough, we meant for recent browsers supporting the V1 of the Web Components specification.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/firefox.png" alt="Firefox" width="16px" height="16px"></a> Firefox</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/chrome.png" alt="Chrome" width="16px" height="16px"></a> Chrome</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/safari.png" alt="Safari" width="16px" height="16px"></a> Safari</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/opera.png" alt="Opera" width="16px" height="16px"></a> Opera</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/safari-ios.png" alt="iOS Safari" width="16px" height="16px"></a> iOS</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/chrome-android.png" alt="Chrome for Android" width="16px" height="16px"></a> Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">behind --flag</td>
<td style="text-align:center">54+</td>
<td style="text-align:center">10.1+</td>
<td style="text-align:center">42+</td>
<td style="text-align:center">10.3+</td>
<td style="text-align:center">55+</td>
</tr>
</tbody>
</table>
<p><a href="http://caniuse.com/#feat=custom-elementsv1" target="_blank">Custom Elements v1 support</a></p>
<p>For older browser you can use the small <a href="https://github.com/WebReflection/document-register-element" target="_blank">document register element polyfill</a>, which will give you IE9+ compatibility:</p>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/edge.png" alt="IE / Edge" width="16px" height="16px"></a> IE / Edge</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/firefox.png" alt="Firefox" width="16px" height="16px"></a> Firefox</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/chrome.png" alt="Chrome" width="16px" height="16px"></a> Chrome</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/safari.png" alt="Safari" width="16px" height="16px"></a> Safari</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/opera.png" alt="Opera" width="16px" height="16px"></a> Opera</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/safari-ios.png" alt="iOS Safari" width="16px" height="16px"></a> iOS</th>
<th style="text-align:center"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img src="https://raw.githubusercontent.com/godban/browsers-support-badges/master/src/images/chrome-android.png" alt="Chrome for Android" width="16px" height="16px"></a> Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">IE9+, Edge</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
<td style="text-align:center">&#x2713;</td>
</tr>
</tbody>
</table>
<p>Just <a href="https://github.com/WebReflection/document-register-element/blob/master/build/document-register-element.js" target="_blank">download the latest version</a> and add it to your project, or add the following to your index.html:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdnjs.cloudflare.com/ajax/libs/document-register-element/1.7.0/document-register-element.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 id="properties-events-and-slots">Properties, Events and Slots</h2>
<h3 id="properties">Properties</h3>
<p>You may have noticed that our <code>AnimalSelectorComponent</code> has an <code>@Prop</code> userName.
How do we pass the value to our Component?</p>
<p>Well, simply set it on the element (in camel case), and the Component will automatically get it:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">animal-selector</span> <span class="hljs-attr">user-name</span>=<span class="hljs-string">&quot;Tom&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">animal-selector</span>&gt;</span>
</code></pre>
<p>Even better, if the property changes, it will be passed again, just like a regular Vue property binding.
You can open your browser Dev Tools and change the property <code>user-name</code> to check that it works.</p>
<p>You can also set the value programmatically:</p>
<pre><code class="lang-js"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;animalSelector&quot;</span>).setAttribute(<span class="hljs-string">&quot;user-name&quot;</span>, <span class="hljs-string">&quot;Bobby&quot;</span>);
</code></pre>
<p>Attributes values are always Strings.
The value will be automatically parsed for you for number types (int/float) and booleans.</p>
<h3 id="events">Events</h3>
<p>You can also listen to events fired by your Custom Element using <code>addEventListener</code>.
The events fired are of type <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent" target="_blank"><code>CustomEvent</code></a>.
They have a read only <code>detail</code> property which contains an array of the values of the event.</p>
<p>So to get the value of AnimalSelector <code>animal-selected</code> event, we just do in JavaScript:</p>
<pre><code class="lang-js"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;animalSelector&quot;</span>).addEventListener(<span class="hljs-string">&quot;animal-selected&quot;</span>, event =&gt; <span class="hljs-built_in">console</span>.log(event.detail[<span class="hljs-number">0</span>]));
</code></pre>
<h3 id="slots">Slots</h3>
<p><a href="../essential/components.html#content-distribution">Slots</a> are also supported.
The only limitation is that it won&apos;t work for dynamic content as the DOM element is replaced with your Vue Component element when created.</p>
<p>Let&apos;s see <code>slots</code> in action.
For example with this <code>DemoSlotsComponent.html</code> template:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>No HEADER slot content passed (this is default value)<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is text from inside of the element<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span>No DEFAULT slot content passed (this is default value)<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;footer&quot;</span>&gt;</span>No FOOTER slot content passed (this is default value)<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>The following element in your document:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">demo-slots</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">vue-slot</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>Some Header Content<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Default slot<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">vue-slot</span>=<span class="hljs-string">&quot;footer&quot;</span>&gt;</span>Some Footer Content<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">demo-slots</span>&gt;</span>
</code></pre>
<p>Will render:</p>
<div class="example-container" data-name="webComponentSlot">
    <div>
        <p>Some Header Content</p>
        <p>This is text from inside of the element</p>
        <p>Default slot</p>
        <p vue-slot="footer">Some Footer Content</p>
    </div>
</div>


<h2 id="manipulating-our-custom-element">Manipulating our Custom Element</h2>
<h3 id="creating-instances-programmatically">Creating Instances Programmatically</h3>
<p>The <code>createInstance</code> method returns a <code>VueCustomElementType&lt;T extends VueComponent&gt;</code>.
This object can be used to create instances of your Custom Element easily.</p>
<pre><code class="lang-java">VueCustomElementType&lt;AnimalSelectorComponent&gt; animalSelectorElementType =
            Vue.customElement(<span class="hljs-string">&quot;animal-selector&quot;</span>, AnimalSelectorComponent.class);

VueCustomElement&lt;AnimalSelectorComponent&gt; myElement = animalSelectorElementType.create();
<span class="hljs-comment">// myElement is a regular DOM element</span>
DomGlobal.document.body.appendChild(myElement);
</code></pre>
<p>You can also just use the regular <code>createElement</code> DOM method:</p>
<pre><code class="lang-java">VueCustomElement&lt;AnimalSelectorComponent&gt; myElement = Js.cast(DomGlobal.document.createElement(<span class="hljs-string">&quot;animal-selector&quot;</span>));
</code></pre>
<h3 id="accessing-the-vue-component-of-a-custom-element">Accessing the Vue Component of a Custom Element</h3>
<h4 id="from-java">From Java</h4>
<p>From your Custom Element instance you can access the underlying Vue Component.
This will work no matter how your Custom Element instance is created.</p>
<pre><code class="lang-java">VueCustomElement&lt;AnimalSelectorComponent&gt; animalSelectorElement = Js.cast(DomGlobal.document.createElement(<span class="hljs-string">&quot;animal-selector&quot;</span>));
AnimalSelectorComponent animalSelectorComponent = myElement.getVueComponent();
<span class="hljs-comment">// Access any public property, or call any public method on animalSelectorComponent.</span>

VueCustomElement&lt;TodoComponent&gt; todoElement = Js.cast(DomGlobal.document.getElementById(<span class="hljs-string">&quot;myTodo&quot;</span>));
TodoComponent todoComponent = todoElement.getVueComponent();
<span class="hljs-comment">// Access any public property, or call any public method on todoComponent.</span>
</code></pre>
<h4 id="from-javascript">From JavaScript</h4>
<p>You can also access to your Vue Component instance from JavaScript:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> myComponent = myCustomElement.__vue_custom_element__.$children[<span class="hljs-number">0</span>];
</code></pre>
<p>Keep in mind that only the JsInterop properties and methods from your Component will be visible in JavaScript.</p>
<h2 id="available-options">Available Options</h2>
<p><code>Vue.customElement</code> takes an optional third argument of type <code>CustomElementOptions&lt;T extends VueComponent&gt;</code>.</p>
<p>Here are the available options:</p>
<ul>
<li><code>constructorCallback(element)</code>: Called when your Custom Element is constructed</li>
<li><code>connectedCallback(element)</code>: Element is mounted to the DOM</li>
<li><code>disconnectedCallback(element)</code>: Element is disconnected from the DOM</li>
<li><code>attributeChangedCallback(element, name, oldValue, value)</code>: An attribute as changed</li>
<li><code>destroyTimeout</code>: Time in <code>ms</code> between when the Element is removed from the DOM and the associated Vue Component is destroyed. Default to <code>3000</code>.</li>
<li><code>shadow</code>: Use <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM" target="_blank">shadow DOM</a> (only supported on browsers that have native Web Components support). Default to <code>false</code>.</li>
<li><code>shadowCss</code>: CSS rules to apply in the shadow DOM.</li>
</ul>
<p>Each callback get passed a reference to the Custom Element that fired the event.</p>
<pre><code class="lang-java">CustomElementOptions&lt;AnimalSelectorComponent&gt; customElementOptions =
    <span class="hljs-keyword">new</span> CustomElementOptions&lt;&gt;()
        .setConnectedCallback(animalSelectorElement -&gt; DomGlobal.console.log(animalSelectorElement));

Vue.customElement(<span class="hljs-string">&quot;animal-selector&quot;</span>, AnimalSelectorComponent.class, customElementOptions);
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../scaling-up/routing.html" class="navigation navigation-prev " aria-label="Previous page: Routing">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="integrating-with-js-components.html" class="navigation navigation-next " aria-label="Next page: Integrating With JS Components">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Custom Elements (Web Components)","level":"8.1","depth":1,"next":{"title":"Integrating With JS Components","level":"8.2","depth":1,"path":"advanced/integrating-with-js-components.md","ref":"advanced/integrating-with-js-components.md","articles":[{"title":"Using JS Components in Java","level":"8.2.1","depth":2,"anchor":"#using-js-components-in-java","path":"advanced/integrating-with-js-components.md","ref":"advanced/integrating-with-js-components.md#using-js-components-in-java","articles":[]},{"title":"Using our Java Components in JS","level":"8.2.2","depth":2,"anchor":"#using-java-components-in-js","path":"advanced/integrating-with-js-components.md","ref":"advanced/integrating-with-js-components.md#using-java-components-in-js","articles":[]}]},"previous":{"title":"Routing","level":"7.1","depth":1,"path":"scaling-up/routing.md","ref":"scaling-up/routing.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["include","toggle-chapters"],"pluginsConfig":{"include":{},"toggle-chapters":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"advanced/custom-elements.md","mtime":"2017-12-02T16:27:14.987Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-01-18T09:19:21.611Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

