
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>The Vue Instance Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="template-syntax.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    About Vue GWT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../project-setup.html">
            
                <a href="../project-setup.html">
            
                    
                    Project Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../introduction/">
            
                <a href="../introduction/">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../introduction/your-first-component.html">
            
                <a href="../introduction/your-first-component.html">
            
                    
                    Your First Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../introduction/conditional-and-loops.html">
            
                <a href="../introduction/conditional-and-loops.html">
            
                    
                    Conditional and Loops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../introduction/handling-user-input.html">
            
                <a href="../introduction/handling-user-input.html">
            
                    
                    Handling User Input
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../introduction/composing-with-components.html">
            
                <a href="../introduction/composing-with-components.html">
            
                    
                    Composing with Components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    Essential Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="the-vue-instance.html">
            
                <a href="the-vue-instance.html">
            
                    
                    The Vue Instance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="template-syntax.html">
            
                <a href="template-syntax.html">
            
                    
                    Template Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="computed-and-watchers.html">
            
                <a href="computed-and-watchers.html">
            
                    
                    Computed Properties and Watchers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="class-and-style.html">
            
                <a href="class-and-style.html">
            
                    
                    Class and Style Bindings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="conditional.html">
            
                <a href="conditional.html">
            
                    
                    Conditional Rendering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="list.html">
            
                <a href="list.html">
            
                    
                    List Rendering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="events.html">
            
                <a href="events.html">
            
                    
                    Event Handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="forms.html">
            
                <a href="forms.html">
            
                    
                    Form Input Bindings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="components.html">
            
                <a href="components.html">
            
                    
                    Components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Advanced Topics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../advanced/custom-directives.html">
            
                <a href="../advanced/custom-directives.html">
            
                    
                    Custom Directives
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../gwt-integration/">
            
                <a href="../gwt-integration/">
            
                    
                    Integration with GWT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../gwt-integration/styles.html">
            
                <a href="../gwt-integration/styles.html">
            
                    
                    Styles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../gwt-integration/client-bundles.html">
            
                <a href="../gwt-integration/client-bundles.html">
            
                    
                    Client Bundles (Images)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../gwt-integration/user-panels.html">
            
                <a href="../gwt-integration/user-panels.html">
            
                    
                    User Panels
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../js-interop/">
            
                <a href="../js-interop/">
            
                    
                    JsInterop
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../js-interop/js-object.html">
            
                <a href="../js-interop/js-object.html">
            
                    
                    JsObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../js-interop/js-array.html">
            
                <a href="../js-interop/js-array.html">
            
                    
                    JsArray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../js-interop/js-tools.html">
            
                <a href="../js-interop/js-tools.html">
            
                    
                    JsTools
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >The Vue Instance</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="the-vue-instance">The Vue Instance</h1>
<p><em>This page comes from the <a href="https://vuejs.org/v2/guide/instance.html" target="_blank">official Vue.js documentation</a> and has been adapted for Vue GWT.</em></p>
<h2 id="constructor">Constructor</h2>
<p>Every Vue vm is bootstrapped by creating a <strong>root Vue instance</strong> with the <code>Vue.attach()</code> method:</p>
<pre><code class="lang-java">DemoComponent vm = Vue.attach(<span class="hljs-string">&quot;#container&quot;</span>, DemoComponent.class);
</code></pre>
<p>Although not strictly associated with the <a href="https://en.wikipedia.org/wiki/Model_View_ViewModel" target="_blank">MVVM pattern</a>, Vue&apos;s design was partly inspired by it.
As a convention, we often use the variable <code>vm</code> (short for ViewModel) to refer to our Vue instances.</p>
<p>Vue.js requires options to configure your Vue instance.
Vue GWT generate those for you based on your <code>VueComponent</code> class and various annotations.</p>
<p>In Vue.js it&apos;s possible to extend the Vue default constructor to generate several Components with the same options.
In Vue GWT we use the Factory design pattern:</p>
<pre><code class="lang-java">VueComponentFactory&lt;DemoComponent&gt; demoFactory = Vue.extend(DemoComponent.class);

DemoComponent demoComponent = demoFactory.build();
demoComponent.$mount(<span class="hljs-string">&quot;#myContainer&quot;</span>);
</code></pre>
<p>Although it is possible to create extended instances imperatively, most of the time it is recommended to compose them declaratively in templates as custom elements.
For now, you just need to know that all Vue components are essentially extended Vue instances.
Vue GWT configure those instance for you, but in the browser they really are just regular Vue instance.</p>
<h2 id="observation">Observation</h2>
<p>Let&apos;s talk a little about how Vue.js deals with observation.</p>
<h3 id="vuecomponent-to-vuejs-data-model">VueComponent to Vue.js Data Model</h3>
<p>In Vue.js you pass all the data you want to observe as the <code>data</code> option of your Vue constructor.
This <code>data</code> object is built for you by Vue GWT based on the public properties of your <code>VueComponent</code>.</p>
<p>For example this VueComponent:</p>
<pre><code class="lang-java"><span class="hljs-meta">@JsType</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">VueComponent</span> </span>{
    <span class="hljs-keyword">public</span> Todo todo;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">created</span><span class="hljs-params">()</span> </span>{}
}
</code></pre>
<p>Will have the following <code>data</code> object in it&apos;s Vue options:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> data = {todo: <span class="hljs-literal">null</span>};
</code></pre>
<p>Each Vue instance <strong>proxies</strong> all the properties found in its <code>data</code> object.</p>
<p>So Vue.js will automatically be warned whenever you set <code>this.todo</code>.
It will then recursively observe all the properties of the Object you set on this property.</p>
<p>For example if somewhere in your component you do:</p>
<pre><code class="lang-java"><span class="hljs-keyword">this</span>.todo = <span class="hljs-keyword">new</span> Todo();
</code></pre>
<p>And your <code>Todo</code> class looks like this:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span>
</span>{
    <span class="hljs-keyword">private</span> String text;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Todo</span><span class="hljs-params">(String s)</span> </span>{
        <span class="hljs-keyword">this</span>.text = s;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getText</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> text;
    }
}
</code></pre>
<p>Then <code>this.todo.text</code> is automatically observed.</p>
<h3 id="&#x26A0;&#xFE0F;-important-note-on-vue-gwt-observation">&#x26A0;&#xFE0F; Important Note on Vue GWT Observation</h3>
<p>In Vue.js only these proxied (observed) properties are <strong>reactive</strong>.
If you attach a new property to the JS instance after it has been created, it will not trigger any view updates.</p>
<p>When you add your Objects to your <code>VueComponent</code> all their properties <strong>must</strong> already be set in the JS world.</p>
<p>Because of GWT optimization this is <strong>ONLY</strong> the case when you have <strong>explicitly</strong> set the property value on your instance.</p>
<p>In these cases the <code>text</code> property <strong>WON&apos;T</strong> be observed once your app is compiled and optimized:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{
    <span class="hljs-keyword">private</span> String text;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Todo</span><span class="hljs-params">()</span> </span>{}
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{
    <span class="hljs-keyword">private</span> String text = <span class="hljs-string">&quot;Default Value&quot;</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Todo</span><span class="hljs-params">()</span> </span>{}
}
</code></pre>
<p>But in these cases they <strong>WILL</strong>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{
    <span class="hljs-keyword">private</span> String text;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Todo</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.text = <span class="hljs-keyword">null</span>;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{
    <span class="hljs-keyword">private</span> String text;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Todo</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.text = <span class="hljs-string">&quot;Default Value&quot;</span>;
    }
}
</code></pre>
<p><strong>Be very careful</strong> about this as the issue will only appear once your app is compiled, as GWT optimize less aggressively in dev mode.</p>
<h2 id="component-properties-and-methods">Component Properties and Methods</h2>
<p>In addition to data properties, Vue instances expose a number of useful instance properties and methods.
These properties and methods are prefixed with <code>$</code> to differentiate them from proxied data properties.</p>
<p>In Vue GWT these methods and properties are defined in <code>VueComponent</code>, usually with the same name.
Because your Components inherits from <code>VueComponent</code> you can simply access them in your Components.</p>
<p>For example:</p>
<pre><code class="lang-java"><span class="hljs-meta">@JsType</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">VueComponent</span> </span>{
    <span class="hljs-keyword">public</span> Todo todo;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">created</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.todo = <span class="hljs-keyword">new</span> Todo();

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.get(<span class="hljs-string">&quot;todo&quot;</span>) == <span class="hljs-keyword">this</span>.todo) {
            <span class="hljs-comment">// true</span>
        }

        <span class="hljs-keyword">this</span>.$watch(() -&gt; <span class="hljs-keyword">this</span>.todo, (newValue, oldValue) -&gt; {
            <span class="hljs-comment">// Todo has changed!</span>
        });
    }
}
</code></pre>
<p>Consult the <a href="https://vuejs.org/v2/api/" target="_blank">Vue.js API reference</a> for the full list of instance properties and methods.</p>
<h2 id="instance-lifecycle-hooks">Instance Lifecycle Hooks</h2>
<p>Each Vue instance goes through a series of initialization steps when it is created - for example, it needs to set up data observation, compile the template, mount the instance to the DOM, and update the DOM when data changes.
Along the way, it will also invoke some <strong>lifecycle hooks</strong>, which give us the opportunity to execute custom logic.
For example, the <a href="https://vuejs.org/v2/api/#created" target="_blank"><code>created</code></a> hook is called after the instance is created:</p>
<pre><code class="lang-java"><span class="hljs-meta">@JsType</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DemoComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">VueComponent</span> </span>{
    <span class="hljs-keyword">public</span> Todo todo;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">created</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// Hey there, I&apos;ve been created!</span>
    }
}
</code></pre>
<p>There are also other hooks which will be called at different stages of the instance&apos;s lifecycle, for example <a href="https://vuejs.org/v2/api/#mounted" target="_blank"><code>mounted</code></a>, <a href="https://vuejs.org/v2/api/#updated" target="_blank"><code>updated</code></a>, and <a href="https://vuejs.org/v2/api/#destroyed" target="_blank"><code>destroyed</code></a>.
You may have been wondering where the concept of &quot;controllers&quot; lives in the Vue world and the answer is: there are no controllers.
Your custom logic for a component would be split among these lifecycle hooks.</p>
<h2 id="lifecycle-diagram">Lifecycle Diagram</h2>
<p>Below is a diagram for the instance lifecycle. You don&apos;t need to fully understand everything going on right now, but this diagram will be helpful in the future.</p>
<p><em>Diagram from the <a href="https://vuejs.org/v2/guide/instance.html" target="_blank">official Vue.js documentation</a></em>
<img src="https://vuejs.org/images/lifecycle.png" alt="Lifecycle"></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Essential Topics">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="template-syntax.html" class="navigation navigation-next " aria-label="Next page: Template Syntax">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"The Vue Instance","level":"1.4.1","depth":2,"next":{"title":"Template Syntax","level":"1.4.2","depth":2,"path":"essential/template-syntax.md","ref":"essential/template-syntax.md","articles":[]},"previous":{"title":"Essential Topics","level":"1.4","depth":1,"path":"essential/index.md","ref":"essential/index.md","articles":[{"title":"The Vue Instance","level":"1.4.1","depth":2,"path":"essential/the-vue-instance.md","ref":"essential/the-vue-instance.md","articles":[]},{"title":"Template Syntax","level":"1.4.2","depth":2,"path":"essential/template-syntax.md","ref":"essential/template-syntax.md","articles":[]},{"title":"Computed Properties and Watchers","level":"1.4.3","depth":2,"path":"essential/computed-and-watchers.md","ref":"essential/computed-and-watchers.md","articles":[]},{"title":"Class and Style Bindings","level":"1.4.4","depth":2,"path":"essential/class-and-style.md","ref":"essential/class-and-style.md","articles":[]},{"title":"Conditional Rendering","level":"1.4.5","depth":2,"path":"essential/conditional.md","ref":"essential/conditional.md","articles":[]},{"title":"List Rendering","level":"1.4.6","depth":2,"path":"essential/list.md","ref":"essential/list.md","articles":[]},{"title":"Event Handling","level":"1.4.7","depth":2,"path":"essential/events.md","ref":"essential/events.md","articles":[]},{"title":"Form Input Bindings","level":"1.4.8","depth":2,"path":"essential/forms.md","ref":"essential/forms.md","articles":[]},{"title":"Components","level":"1.4.9","depth":2,"path":"essential/components.md","ref":"essential/components.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["include"],"pluginsConfig":{"include":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"essential/the-vue-instance.md","mtime":"2017-07-11T14:34:52.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-11T15:36:56.412Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

